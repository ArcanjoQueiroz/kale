# Kale Spring Data JPA Test


## JpaIntegrationTestConfig

This class allows you testing your JPA code through a simple Spring Boot configuration. All you need to do is creating a subclass of **JpaIntegrationTestConfig** as a **@SpringBootTest configuration class** and that's it. The following code example shows a configuration for an integration test in a Spring Data JPA Repository generated by @Repository interface and Hibernate JPA Provider.

```java
import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.context.annotation.Configuration;
import org.springframework.data.jpa.repository.config.EnableJpaRepositories;
import org.springframework.test.context.junit4.SpringRunner;
import br.com.alexandre.kale.JpaIntegrationTestConfig;
import br.com.alexandre.repository.PersonRepository;

@RunWith(SpringRunner.class)
@SpringBootTest(
    properties = {
        "spring.datasource.url=jdbc:postgresql://localhost:5432/test", 
        "spring.datasource.username=test",
        "spring.datasource.password=test", 
        "spring.datasource.driverClassName=org.postgresql.Driver",
        "logging.level.root=ERROR",
        "logging.level.org.springframework=ERROR",
        "logging.level.org.hibernate.engine.jdbc.env.internal.LobCreatorBuilderImpl=ERROR"
		 "logging.level.org.hibernate.SQL=DEBUG",
    	 "logging.level.org.hibernate.type=TRACE",
    	 "logging.level.org.hibernate.jdbc=TRACE",
    	 "logging.level.org.hibernate.engine.query=TRACE",
    	 "logging.level.org.hibernate.type.descriptor.sql.BasicBinder=DEBUG"    
    },
    classes = br.com.alexandre.MyIntegrationTest.MyConfig.class)
public class MyIntegrationTest {

  @Configuration
  @EnableJpaRepositories(basePackages = "br.com.alexandre.repository")
  public static class MyConfig extends JpaIntegrationTestConfig {
    public MyConfig() {
      super("br.com.alexandre.domain");
    }
  }

  @Autowired
  private PersonRepository personRepository;
  
  @Test
  public void test() {
    System.out.println(personRepository.findAll());
  }
}
```